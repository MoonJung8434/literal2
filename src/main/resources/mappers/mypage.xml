<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mypage">

<!-- wishliste
	wish 상태를 업데이트하는 쿼리
	<insert id="insertWishlist" parameterType="map">
	    INSERT INTO wishlist (email, book_number)
   		VALUES (#{email}, #{book_number})
	</insert>
		
	wishlist에서 항목을 삭제하는 쿼리
	<delete id="deleteWishlist" parameterType="map">
	    DELETE FROM wishlist
	    WHERE book_number = #{book_number} AND email = #{email}
	</delete>
	
	<select id="getWishlist" parameterType="string" resultType="kr.co.literal.product.ProductDTO">
	    SELECT w.wish_number, w.email, w.book_number, p.wish
	    FROM wishlist w JOIN product p ON w.book_number = p.book_number
	    WHERE w.email = #{email} AND p.wish = true
	</select>
	
	이메일이 member 테이블에 존재하는지 확인하는 쿼리
    로그인 회원정보조회
    <select id="getMemberByEmail" parameterType="String" resultType="kr.co.literal.member.MemberDTO">
        SELECT email
        FROM member WHERE email = #{email}
    </select>
 -->

	
	<!-- 1:1문의 -->
	<select id="inquiry_list" resultType="kr.co.literal.mypage.InquiryDTO" parameterType="String">
		SELECT inquiry_code, email, inquiry_content,inquiry_answer,inquiry_date
		FROM inquiry
		WHERE email=#{email}
	</select>
	
	<insert id="inquiry_insert" parameterType="kr.co.literal.mypage.InquiryDTO">
		INSERT INTO inquiry(inquiry_content,email)
		VALUES (#{inquiry_content},#{email})	
	</insert>	

	<delete id="inquiry_delete" parameterType="kr.co.literal.mypage.InquiryDTO">
		DELETE FROM inquiry
		WHERE inquiry_code = #{inquiry_code} AND email = #{email}
	</delete>
	
	

</mapper>